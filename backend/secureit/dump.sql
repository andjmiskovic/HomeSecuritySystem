-- H2 2.1.214;
;             
CREATE USER IF NOT EXISTS "ADMIN" SALT '910e8fc7bed90f7c' HASH 'c66878f2cbcae27d2508dac702ba58994eef00db559846f1b3a0cf5163922066' ADMIN;      
CREATE CACHED TABLE "PUBLIC"."ADMIN"(
    "ID" UUID NOT NULL,
    "CREATED" TIMESTAMP(6) WITH TIME ZONE,
    "EMAIL" CHARACTER VARYING(255) NOT NULL,
    "EMAIL_VERIFIED" BOOLEAN NOT NULL,
    "FIRST_NAME" CHARACTER VARYING(255) NOT NULL,
    "LAST_NAME" CHARACTER VARYING(255) NOT NULL,
    "MODIFIED" TIMESTAMP(6) WITH TIME ZONE,
    "PASSWORD" CHARACTER VARYING(255),
    "ROLE" CHARACTER VARYING(255),
    "VERIFICATION_CODE" CHARACTER VARYING(255)
);            
ALTER TABLE "PUBLIC"."ADMIN" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");        
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.ADMIN;   
INSERT INTO "PUBLIC"."ADMIN" VALUES
(UUID 'e3661c31-d1a4-47ab-94b6-1c6500dccf24', NULL, 'admin@secureit.com', TRUE, 'Super', 'Admin', NULL, '$2a$10$Qg.gpYTtZiVMJ6Fs9QbQA.BtCx4106oSj92X.A/Gv7iAEKQXAg.gy', 'ROLE_ADMIN', NULL);             
CREATE CACHED TABLE "PUBLIC"."CERTIFICATE_DETAILS"(
    "SERIAL_NUMBER" NUMERIC(38, 0) NOT NULL,
    "ALIAS" CHARACTER VARYING(255),
    "CERTIFICATE_AUTHORITY" BOOLEAN NOT NULL,
    "ISSUER" CHARACTER VARYING(255) NOT NULL,
    "NOT_AFTER" TIMESTAMP(6) NOT NULL,
    "NOT_BEFORE" TIMESTAMP(6) NOT NULL,
    "PUBLIC_KEY_ALGORITHM" CHARACTER VARYING(255) NOT NULL,
    "PUBLIC_KEY_FORMAT" CHARACTER VARYING(255) NOT NULL,
    "SIGNATURE_ALGORITHM" CHARACTER VARYING(255) NOT NULL,
    "SUBJECT" CHARACTER VARYING(255) NOT NULL,
    "VERSION" INTEGER NOT NULL,
    "SUBSCRIBER_ID" UUID
);       
ALTER TABLE "PUBLIC"."CERTIFICATE_DETAILS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("SERIAL_NUMBER");               
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.CERTIFICATE_DETAILS;     
INSERT INTO "PUBLIC"."CERTIFICATE_DETAILS" VALUES
(1680141471, 'secure it root ca', TRUE, 'CN=Secure IT Root CA,O=Secure IT Inc.,L=Novi Sad,ST=Vojvodina,C=RS', TIMESTAMP '2024-03-29 02:57:51', TIMESTAMP '2023-03-30 03:57:51', 'RSA', 'X.509', 'SHA256withRSA', 'CN=Secure IT Root CA,O=Secure IT Inc.,L=Novi Sad,ST=Vojvodina,C=RS', 3, NULL),
(1680141838, 'secure it general purpose ca (secure it root ca)', TRUE, 'CN=Secure IT Root CA,O=Secure IT Inc.,L=Novi Sad,ST=Vojvodina,C=RS', TIMESTAMP '2024-03-29 03:03:58', TIMESTAMP '2023-03-30 04:03:58', 'RSA', 'X.509', 'SHA256withRSA', 'CN=Secure IT General Purpose CA,O=Secure IT Inc.,L=Novi Sad,ST=Vojvodina,C=RS', 3, NULL),
(1680141778, 'secure it property owners ca (secure it root ca)', TRUE, 'CN=Secure IT Root CA,O=Secure IT Inc.,L=Novi Sad,ST=Vojvodina,C=RS', TIMESTAMP '2024-03-29 03:02:58', TIMESTAMP '2023-03-30 04:02:58', 'RSA', 'X.509', 'SHA256withRSA', 'CN=Secure IT Property Owners CA,O=Secure IT Inc.,L=Novi Sad,ST=Vojvodina,C=RS', 3, NULL);   
CREATE CACHED TABLE "PUBLIC"."CERTIFICATE_REVOCATION"(
    "SERIAL_NUMBER" NUMERIC(38, 0) NOT NULL,
    "CREATED" TIMESTAMP(6) WITH TIME ZONE,
    "MODIFIED" TIMESTAMP(6) WITH TIME ZONE,
    "REVOCATION_REASON" CHARACTER VARYING(255)
);             
ALTER TABLE "PUBLIC"."CERTIFICATE_REVOCATION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY("SERIAL_NUMBER");            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CERTIFICATE_REVOCATION;  
CREATE CACHED TABLE "PUBLIC"."CSR_DETAILS"(
    "ID" UUID NOT NULL,
    "ALGORITHM" CHARACTER VARYING(255) NOT NULL,
    "ALIAS" CHARACTER VARYING(255),
    "CITY" CHARACTER VARYING(255) NOT NULL,
    "COMMON_NAME" CHARACTER VARYING(255) NOT NULL,
    "COUNTRY" CHARACTER VARYING(255) NOT NULL,
    "CREATED" TIMESTAMP(6) WITH TIME ZONE,
    "CSR_PEM" CHARACTER VARYING(4096),
    "KEY_SIZE" INTEGER NOT NULL,
    "MODIFIED" TIMESTAMP(6) WITH TIME ZONE,
    "ORGANIZATION" CHARACTER VARYING(255) NOT NULL,
    "PRIVATE_KEY_PEM" CHARACTER VARYING(4096),
    "PROCESSED" TIMESTAMP(6) WITH TIME ZONE,
    "PUBLIC_KEY_PEM" CHARACTER VARYING(4096),
    "REJECTION_REASON" CHARACTER VARYING(255),
    "STATE" CHARACTER VARYING(255) NOT NULL,
    "STATUS" CHARACTER VARYING(255) NOT NULL,
    "SUBSCRIBER_ID" UUID
);  
ALTER TABLE "PUBLIC"."CSR_DETAILS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("ID");  
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.CSR_DETAILS;             
INSERT INTO "PUBLIC"."CSR_DETAILS" VALUES
(UUID '24829239-f310-4bd9-9df1-e940760a9808', 'RSA', 'john@deste.com', 'Novi Sad', 'john@deste.com', 'RS', NULL, U&'-----BEGIN CERTIFICATE REQUEST-----\000aMIIBnjCCAQcCAQAwXjEXMBUGA1UEAwwOam9obkBkZXN0ZS5jb20xETAPBgNVBAoM\000aCG9yZyBuYW1lMREwDwYDVQQHDAhOb3ZpIFNhZDEQMA4GA1UECAwHcGVuZGluZzEL\000aMAkGA1UEBhMCUlMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMbVoWkmnNtO\000a90xtyl63H4hfIrqQWcok3NHsOk55ELQQJKZqGO+vDELYGKTAHenuRtxlLvixbqyr\000aMJeQBI++jcA13qemYQnEM1IJjnq/y/Y1jn2YuvCvLC7kaUWhriw6tUvw5nJK0T9X\000aUS4HmQbI9JCXWKX4dRQJFpFwqvdnCFuxAgMBAAGgADANBgkqhkiG9w0BAQsFAAOB\000agQA8KI2eccYTC/K3GCVZhhPByCzsZE0A88AxbuMFE+YoihZG45xSM03VOKh9bCzP\000aawAt0Sb2YregZVuYG2cZcLCHj8/NHkFUlPEoBM6+Bdkj6JMAUv+Ys1ikijvTe+y/\000aVdLxOrmvl+StwqEknk9xvTq+K3QMvXHXyhcLsa47jO1/0w==\000a', 1024, NULL, 'org name', U&'-----BEGIN RSA PRIVATE KEY-----\000aMIICXQIBAAKBgQDG1aFpJpzbTvdMbcpetx+IXyK6kFnKJNzR7DpOeRC0ECSmahjv\000arwxC2BikwB3p7kbcZS74sW6sqzCXkASPvo3ANd6npmEJxDNSCY56v8v2NY59mLrw\000arywu5GlFoa4sOrVL8OZyStE/V1EuB5kGyPSQl1il+HUUCRaRcKr3ZwhbsQIDAQAB\000aAoGAAR4o91TOLZGz5FYq7MXD563svZ6jgZZb1zKIOKIXuuJrGVQn/ht2Yr8RIuZ5\000aWJQESheHyEJDmnUHK7f1nZsDNBySoGm3UFVcZUXjuYLdNZwS8PDZNg82tzSlHHvc\000aRC60QZ34K900dxS1RYrgPU2/bpAYmEn5oaV4p60sliPQ5IECQQDTX/GKZHwOho4t\000a06G5XdA3qOdplelsmKfB1QHlwTRXm9B3IMWRwHuJOd1HNY5d4Xhfs0RgFt3AnTIN\000a4zVw8mkxAkEA8M/t2SAsI48OF+u6bz05jdIfCY/VwzBEZflnD0LhPSpehudb8s+v\000a1rSE+mJj4uYP/YS3qVwWKbE/MfWzssB6gQJBAM/X1bBZYkr+MCwLn0igYK96XCJM\000akHyCFuLXysfalNdYlUGubdcFx/OFfHoaxWS24iBoK+G4WlCdwaw6MEBhfOECQQCs\000a+2AKmS67uFZSXpXEtIE0W9zJvJW8KV7otZgPgWZUzquqUmVdbU0NeQ0Q4z6HTeXs\000aobpgoPKWrmkL1UhpPhSBAkB1Bm5WOfk6+12vHi9hHI6XyEC4vIHbMyUU8XKxpbHK\000aUcMDz4yU+GHv3Qud5Jyx068mZ0DZEK93W/Y+2FnY+uZP\000a', NULL, U&'-----BEGIN PUBLIC KEY-----\000aMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDG1aFpJpzbTvdMbcpetx+IXyK6\000akFnKJNzR7DpOeRC0ECSmahjvrwxC2BikwB3p7kbcZS74sW6sqzCXkASPvo3ANd6n\000apmEJxDNSCY56v8v2NY59mLrwrywu5GlFoa4sOrVL8OZyStE/V1EuB5kGyPSQl1il\000a+HUUCRaRcKr3ZwhbsQIDAQAB\000a', NULL, 'Serbia', 'PENDING', NULL),
(UUID '9702d8ac-2e8c-48a7-9c23-7260af6c9966', 'RSA', 'john@deste.com', 'Belgrade', 'john@deste.com', 'RS', NULL, U&'-----BEGIN CERTIFICATE REQUEST-----\000aMIIBoTCCAQoCAQAwYTEXMBUGA1UEAwwOam9obkBkZXN0ZS5jb20xEzARBgNVBAoM\000aCm9yZyBuYW1lIDIxETAPBgNVBAcMCE5vdmkgU2FkMREwDwYDVQQIDAhyZWplY3Rl\000aZDELMAkGA1UEBhMCUlMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMQuN7LA\000aZqXpcKbpnjJ1dr3eQpMEs8l9gXmna/nkmKRrLq0sxeJHknxhudFGE1TQwx58xNKw\000aLeOv72gZvYRNHuOkdybmZZKPPiApOX4guDos7ym5uFZ342Y6WQ5JEFpm9UPxEwyh\000aLAR3FkDe0IRqQJzHFEUgXH1cQpQzn9bz73spAgMBAAGgADANBgkqhkiG9w0BAQsF\000aAAOBgQCaAaoDj2qnlWcXWliSiZsIX1kKE7kv/LFLJY5XQp6fY8kjLWvIzAihr82s\000aKq0IfOfJhk4codFl9DFbVa3WZKbvqpB3eC4Ud0mE1P/oxoTNfV890r7DqqtAczYf\000awdKYz9OGwXm2NrNMBIrnXt5NTa5WG2NUIn55oyneMW7ccjQB+Q==\000a', 1024, NULL, 'org name 2', U&'-----BEGIN RSA PRIVATE KEY-----\000aMIICXAIBAAKBgQDELjeywGal6XCm6Z4ydXa93kKTBLPJfYF5p2v55Jikay6tLMXi\000aR5J8YbnRRhNU0MMefMTSsC3jr+9oGb2ETR7jpHcm5mWSjz4gKTl+ILg6LO8pubhW\000ad+NmOlkOSRBaZvVD8RMMoSwEdxZA3tCEakCcxxRFIFx9XEKUM5/W8+97KQIDAQAB\000aAoGAAxWw9YQV+RzjExTQUn3LWK/yfwpPY2cwTn/l8D96cPdoe/ucvvKeKIuG1vYR\000anr9LmiKfG6r+hbqB+rKQ6tAloKqsgyjPYB4b0NbdOEkwBIJ8LRuHaAujba51d0UK\000aJZtE7ExMzxGRvKHsTrdKAQsjmh1FuPvOP9Tg9kdc9XP+MvsCQQDjCwEfUWC/eH3O\000aVqRsUy7oUdQoOsNct9XYsM41J+fIYbMCB20hPr6Ss4ZFdpceWxahhL886Ez642dO\000aYfP2u+bjAkEA3TOMa6aIo7GGXNvbd3SlSihtnUmC8o859U7iq1e0eO7YTMxulzPm\000aNaKKAiGTlIYw2DekUDSO/2uOsYK+2wFngwJAXjBOguOLs2MVLeibxaSsrQxla1sV\000aeP165a5TnZG0glilno3eJBCXltyLM34DK0C2nsMnYuksJlj4nnfccdt56QJATR3r\000alpw4htkdPsJngP3pojD2Bh/axzWnvx4BaDrrcD3UqvGanJw7ZfeEpbmO+fjOjpLX\000adh7cu6+Dz98FKtUSgQJBAInRSX4OA8dLjEortxzlxMuPvBvAK17s8FlTx3Q1DSmN\000an7RRfj5q6PrsxUrK1bIgQVtPQsh+kSRpMZvPhWGGq0g=\000a', NULL, U&'-----BEGIN PUBLIC KEY-----\000aMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDELjeywGal6XCm6Z4ydXa93kKT\000aBLPJfYF5p2v55Jikay6tLMXiR5J8YbnRRhNU0MMefMTSsC3jr+9oGb2ETR7jpHcm\000a5mWSjz4gKTl+ILg6LO8pubhWd+NmOlkOSRBaZvVD8RMMoSwEdxZA3tCEakCcxxRF\000aIFx9XEKUM5/W8+97KQIDAQAB\000a', NULL, 'Serbia', 'REJECTED', NULL),
(UUID 'c8bf64da-8ce3-4619-87cf-ee3e745cce87', 'RSA', 'john@deste.com', 'Belgrade', 'john@deste.com', 'RS', NULL, U&'-----BEGIN CERTIFICATE REQUEST-----\000aMIIBoTCCAQoCAQAwYTEXMBUGA1UEAwwOam9obkBkZXN0ZS5jb20xEzARBgNVBAoM\000aCm9yZyBuYW1lIDIxETAPBgNVBAcMCE5vdmkgU2FkMREwDwYDVQQIDAhyZWplY3Rl\000aZDELMAkGA1UEBhMCUlMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAIEKNPsQ\000aq4TU6l9hkHvLWIC4EnxSmh5lhaDezn4gC7qiZNtVHM11ghe8ktkQyNFqicVkzT2z\000a1QFm5EFyE7lqCHAgon/fS1EEetVgRoJ9r8W9gheozzaL4y9h3KXIKAGb6DPJW8uK\000a0X3moLCQWEF3nwu8OH/eRMwNmE7gBmxODf/3AgMBAAGgADANBgkqhkiG9w0BAQsF\000aAAOBgQA58RW6QhxaLmkttVEhk7r/3U/URc/vMAGswHB4eZCnSdAmY4WJ/tzIcDzm\000aY7hadTm72Cv5UkzHinObo2m1jK4BWnkRWHXy6kAUCCKq9rvCDVQZmdZE9xAipYtN\000aUkIUMNo9KvPk6TCn5GTVCB6cMm07bWFv2NWOGplil1s7X4NhzQ==\000a', 1024, NULL, 'org name 3', U&'-----BEGIN RSA PRIVATE KEY-----\000aMIICXAIBAAKBgQCBCjT7EKuE1OpfYZB7y1iAuBJ8UpoeZYWg3s5+IAu6omTbVRzN\000adYIXvJLZEMjRaonFZM09s9UBZuRBchO5aghwIKJ/30tRBHrVYEaCfa/FvYIXqM82\000ai+MvYdylyCgBm+gzyVvLitF95qCwkFhBd58LvDh/3kTMDZhO4AZsTg3/9wIDAQAB\000aAoGAB4Ax4zQtXCvKMeAod2GzE8xfWrWser7Y/ShmZWN0exVMeolggrrlZH7UJGT6\000a311rg7tfyMnmxE2YUAuTBPCaa+EAVqXxhtfr2Wg7vdLCuOUTJh3+zhujf0VUCSzN\000a/wq68PpCR6om5nSyRkd8Mw5xz6VBOLmVobWntxPeruQzoG0CQQC3BFYEuFMNU9pt\000abE4Xb/zKfMMkTeWoxz/jUSSSmAsoS7rSrS1UsfJyPqsqRl6khEFJFFrorCZpmCh3\000a9nueEgx1AkEAtH+CkrELgoNTPpPGW8vjK81fdim/M05GVDi/R4+AqusVQiGAlKLh\000advRinzEQcaxGD33s7V+1YT31cf2LFpB9OwJAEuze3EQXSoSGTNRrSt8ou+Ok5kcr\000a3YUlJSOJ7aLNXJBgNFL2IhD4qjmyx39ZYBfRDHaPZAoROtAiNy2E4Paq1QJASnrv\000aQ17BFBrip8jMqiZo2DNHt/ekCSS8ipZb/8hsXJriy8YNS8gmZzKS24OgeHeQ9WWN\000a9alvq++oL2BjG22F7wJBAKal7uixYL03S4/FkUbuHdvjfRr3eKetHoSZ/IJyb1g0\000a8qr4C56weo9MkJ4SI+UOwBVqj3IZnsp9JzOieuU3SD8=\000a', NULL, U&'-----BEGIN PUBLIC KEY-----\000aMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCBCjT7EKuE1OpfYZB7y1iAuBJ8\000aUpoeZYWg3s5+IAu6omTbVRzNdYIXvJLZEMjRaonFZM09s9UBZuRBchO5aghwIKJ/\000a30tRBHrVYEaCfa/FvYIXqM82i+MvYdylyCgBm+gzyVvLitF95qCwkFhBd58LvDh/\000a3kTMDZhO4AZsTg3/9wIDAQAB\000a', NULL, 'Serbia', 'APPROVED', NULL);        
CREATE CACHED TABLE "PUBLIC"."PROPERTY_OWNER"(
    "ID" UUID NOT NULL,
    "CREATED" TIMESTAMP(6) WITH TIME ZONE,
    "EMAIL" CHARACTER VARYING(255) NOT NULL,
    "EMAIL_VERIFIED" BOOLEAN NOT NULL,
    "FIRST_NAME" CHARACTER VARYING(255) NOT NULL,
    "LAST_NAME" CHARACTER VARYING(255) NOT NULL,
    "MODIFIED" TIMESTAMP(6) WITH TIME ZONE,
    "PASSWORD" CHARACTER VARYING(255),
    "ROLE" CHARACTER VARYING(255),
    "VERIFICATION_CODE" CHARACTER VARYING(255)
);   
ALTER TABLE "PUBLIC"."PROPERTY_OWNER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID");               
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.PROPERTY_OWNER;          
INSERT INTO "PUBLIC"."PROPERTY_OWNER" VALUES
(UUID '638520b8-cd02-43ee-a21f-778d7d5752a6', TIMESTAMP WITH TIME ZONE '2023-03-29 23:31:00.283326+00', 'john@deste.com', TRUE, 'John', 'Doe', TIMESTAMP WITH TIME ZONE '2023-03-29 23:31:24.10518+00', '$2a$10$Qg.gpYTtZiVMJ6Fs9QbQA.BtCx4106oSj92X.A/Gv7iAEKQXAg.gy', 'ROLE_PROPERTY_OWNER', 'b687c6b59f651f54893c2589dca06ad1fc1f09c7be267a5e23525ccef672bb87');             
ALTER TABLE "PUBLIC"."CERTIFICATE_DETAILS" ADD CONSTRAINT "PUBLIC"."UK_MBGJKPQBHUXVI9S7PMAHCGCWJ" UNIQUE("ALIAS");            
ALTER TABLE "PUBLIC"."ADMIN" ADD CONSTRAINT "PUBLIC"."UK_C0R9ATAMXVBHJJVY5J8DA1KAM" UNIQUE("EMAIL");          
ALTER TABLE "PUBLIC"."PROPERTY_OWNER" ADD CONSTRAINT "PUBLIC"."UK_EXPNCYKW7XGQGCYUAV2PLWDTV" UNIQUE("VERIFICATION_CODE");     
ALTER TABLE "PUBLIC"."ADMIN" ADD CONSTRAINT "PUBLIC"."UK_O56HX9T3RNJUSFSNAVYLUXVQ8" UNIQUE("VERIFICATION_CODE");              
ALTER TABLE "PUBLIC"."PROPERTY_OWNER" ADD CONSTRAINT "PUBLIC"."UK_55XIEW5BQX3GUAXJNKPCXMQS3" UNIQUE("EMAIL"); 
